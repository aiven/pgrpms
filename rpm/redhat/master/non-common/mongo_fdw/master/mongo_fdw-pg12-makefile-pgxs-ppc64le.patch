--- Makefile.old	2020-07-10 16:20:14.903396676 +0100
+++ Makefile	2020-07-10 16:20:34.423705916 +0100
@@ -39,7 +39,7 @@
 # example: /usr/local/pgsql/bin/pg_config or /usr/lib/postgresql/9.1/bin/pg_config
 #
 
-PG_CONFIG = pg_config
+PG_CONFIG = /usr/pgsql-12/bin/pg_config
 PGXS := $(shell $(PG_CONFIG) --pgxs)
 include $(PGXS)
 
--- Makefile.meta.old	2020-07-10 16:20:22.913523584 +0100
+++ Makefile.meta	2020-07-10 16:21:06.514214187 +0100
@@ -16,9 +16,9 @@
 LIBJSON_OBJS =  $(LIBJSON)/json_util.o $(LIBJSON)/json_object.o $(LIBJSON)/json_tokener.o \
                                 $(LIBJSON)/json_object_iterator.o $(LIBJSON)/printbuf.o $(LIBJSON)/linkhash.o \
                                 $(LIBJSON)/arraylist.o $(LIBJSON)/random_seed.o $(LIBJSON)/debug.o $(LIBJSON)/strerror_override.o
-
 MONGO_INCLUDE = $(shell pkg-config --cflags libmongoc-1.0)
-PG_CPPFLAGS = --std=c99 $(MONGO_INCLUDE) -I$(LIBJSON) -DMETA_DRIVER
+JSON_INCLUDE = $(shell pkg-config --cflags json-c)
+PG_CPPFLAGS = --std=c99 $(MONGO_INCLUDE) $(JSON_INCLUDE) -I$(LIBJSON) -DMETA_DRIVER
 SHLIB_LINK = $(shell pkg-config --libs libmongoc-1.0)
 
 OBJS = connection.o option.o mongo_wrapper_meta.o mongo_fdw.o mongo_query.o $(LIBJSON_OBJS)
@@ -35,7 +35,7 @@
 # example: /usr/local/pgsql/bin/pg_config or /usr/lib/postgresql/9.1/bin/pg_config
 #
 
-PG_CONFIG = pg_config
+PG_CONFIG = /usr/pgsql-12/bin/pg_config
 PGXS := $(shell $(PG_CONFIG) --pgxs)
 include $(PGXS)
 
